{
  "permissions": {
    "allow": [
      "*",
      "Bash(find:*)",
      "Bash(python3 manage.py check:*)",
      "Bash(grep:*)",
      "Bash(python3:*)",
      "Bash(rm:*)",
      "Bash(python test_fixed_endpoint.py:*)",
      "Bash(rg:*)",
      "Bash(poetry run python manage.py showmigrations:*)",
      "Bash(poetry run python manage.py migrate:*)",
      "Bash(poetry run python manage.py dbshell:*)",
      "Bash(poetry run:*)",
      "Bash(poetry remove:*)",
      "Bash(poetry add:*)",
      "Bash(python:*)",
      "Bash(mv:*)",
      "Bash(npm run dev:*)",
      "Bash(npm install:*)",
      "Bash(poetry install:*)",
      "Bash(powershell.exe:*)",
      "Bash(ls:*)",
      "Bash(curl:*)",
      "Bash(cat:*)",
      "Bash(source:*)",
      "Bash(npm run build:*)",
      "Bash(npx tsc:*)",
      "Bash(touch:*)",
      "Bash(./venv/Scripts/python.exe manage.py runserver:*)",
      "Bash(./linguify-bin scaffold:*)",
      "Bash(chmod:*)",
      "Bash(echo:*)",
      "Bash(./stop.sh:*)",
      "Bash(timeout:*)",
      "Bash(poetry show:*)",
      "Bash(./run.sh:*)",
      "Bash(mkdir:*)",
      "Bash(poetry env info:*)",
      "Bash(pkill:*)",
      "Bash(./clean-next.sh:*)",
      "Bash(bash:*)",
      "Bash(cp:*)",
      "Bash(node test-imports.js)",
      "Bash(true)",
      "Bash(cmd.exe:*)",
      "Bash(npm uninstall:*)",
      "Bash(npm run typecheck:*)",
      "Bash(npm run type-check:*)",
      "Bash(npx eslint:*)",
      "Bash(awk:*)",
      "Bash(sed:*)",
      "Bash(pip install:*)",
      "Bash(pip3 install:*)",
      "Bash(npm run lint)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git config:*)",
      "Bash(git push:*)",
      "Bash(copy /mnt/c/Users/louis/WebstormProjects/linguify/frontend/src/app/\\(dashboard\\)/page.optimized.tsx /mnt/c/Users/louis/WebstormProjects/linguify/frontend/src/app/\\(dashboard\\)/page.tsx)",
      "Bash(npm start)",
      "Bash(npm run:*)",
      "Bash(gettext:*)",
      "Bash(msgfmt:*)",
      "Bash(wget:*)",
      "Bash(pip show:*)",
      "Bash(pip3 show:*)",
      "Bash(./venv/Scripts/python.exe test_email_rejection.py:*)",
      "Bash(./venv/Scripts/python.exe manage.py test core.jobs.tests.test_status_notifications -v 2 --settings=core.settings_test)",
      "Bash(./venv/Scripts/python.exe manage.py test core.jobs.tests.test_status_notifications.StatusNotificationTests.test_rejected_email_no_status_badge -v 2 --settings=core.settings_test)",
      "Bash(./venv/Scripts/python.exe manage.py test core.jobs.tests.test_status_notifications -v 1 --settings=core.settings_test)",
      "Bash(./venv/Scripts/python.exe manage.py test core.jobs.tests -v 2 --settings=core.settings_test)",
      "Bash(poetry search:*)",
      "Bash(poetry update:*)",
      "Bash(git stash:*)",
      "Bash(venv/Scripts/python.exe manage.py shell -c \"\nfrom public_web.utils import manifest_parser\n# Vider le cache du manifest parser\nmanifest_parser.clear_cache()\n# Récupérer les apps publiques\napps = manifest_parser.get_public_apps()\nprint('Apps publiques après nettoyage:')\nfor app in apps:\n    print(f'Slug: {app[\\\"slug\\\"]}, Name: {app[\\\"name\\\"]}, Route: {app[\\\"route\\\"]}')\n\")",
      "Bash(venv/Scripts/python.exe manage.py:*)",
      "Bash(sudo -u postgres:*)",
      "Bash(export_clean_data.py )",
      "Bash(export_production_data.py )",
      "Bash(export_production_data_simple.py )",
      "Bash(export_simple_data.py )",
      "Bash(export_without_notifications.py )",
      "Bash(final_import_only.py )",
      "Bash(full_database_copy.py )",
      "Bash(import_clean_data.py )",
      "Bash(import_data_simple.py )",
      "Bash(import_essential_data.py )",
      "Bash(import_final_data.py )",
      "Bash(import_production_data.py )",
      "Bash(import_production_data_simple.py )",
      "Bash(import_simple_data.py )",
      "Bash(import_supabase_safe.ps1 )",
      "Bash(import_from_supabase.ps1 )",
      "Bash(import_from_supabase.sh )",
      "Bash(copy_all_supabase_data.py )",
      "Bash(copy_missing_data.py )",
      "Bash(clean_and_import.py )",
      "Bash(check_data_counts.py )",
      "Bash(setup_postgresql.sh)",
      "Bash(all_production_data.json )",
      "Bash(clean_and_import.py )",
      "Bash(copy_all_supabase_data.py )",
      "Bash(copy_missing_data.py )",
      "Bash(direct_sql_import.sql )",
      "Bash(export_clean_data.py )",
      "Bash(export_production_data.py )",
      "Bash(export_production_data_simple.py )",
      "Bash(export_simple_data.py )",
      "Bash(export_without_notifications.py )",
      "Bash(final_import_only.py )",
      "Bash(full_database_copy.py )",
      "Bash(import_clean_data.py )",
      "Bash(import_data_simple.py )",
      "Bash(import_essential_data.py )",
      "Bash(import_final_data.py )",
      "Bash(import_from_supabase.ps1 )",
      "Bash(import_from_supabase.sh )",
      "Bash(import_production_data.py )",
      "Bash(import_production_data_simple.py )",
      "Bash(import_simple_data.py )",
      "Bash(import_supabase_safe.ps1 )",
      "Bash(production_data.json )",
      "Bash(production_simple.json )",
      "Bash(test_dynamic_system.ps1 )",
      "Bash(test_dynamic_system.sh )",
      "Bash(test_fixes.ps1 )",
      "Bash(test_jobs_debug.py )",
      "Bash(test_new_architecture.py )",
      "Bash(test_seo_urls.py )",
      "Bash(test_settings.html)",
      "Bash(make:*)",
      "Bash(DJANGO_ENV=\"production\" poetry run python -c \"\nimport os, sys, django\nsys.path.append('.')\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'core.settings')\ndjango.setup()\nfrom app_manager.models import App\nprint('📋 Applications disponibles en production:')\nfor app in App.objects.all():\n    print(f'  - {app.display_name} (code: {app.code})')\nprint(f'Total: {App.objects.count()} applications')\n\")",
      "Bash(sudo service:*)",
      "Bash(DJANGO_ENV=\"production\" poetry run python -c \"\nimport os, sys\nsys.path.append('.')\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'core.settings')\nimport django\ndjango.setup()\nfrom course.models import Lesson, TheoryContent\nprint(f'Production - Lessons: {Lesson.objects.count()}, Theory: {TheoryContent.objects.count()}')\n\")",
      "Bash(sudo apt:*)",
      "Bash(sudo apt install:*)",
      "Bash(DJANGO_ENV=production poetry run python scripts/database/app_manager.py list)",
      "Bash(DJANGO_ENV=production poetry run python scripts/database/manifest_manager.py apply-manifest)",
      "Bash(CI=true GITHUB_ACTIONS=true poetry run python manage.py test tests apps.authentication.tests --settings=core.settings_test --keepdb --verbosity=1 --pattern=\"test_*.py\")",
      "Bash(DJANGO_ENV=production poetry run python manage.py loaddata /tmp/debug_export.json)",
      "Bash(convert:*)",
      "Bash(__NEW_LINE__ cp apps/chat/static/description/icon.png static/app-icons/chat.png)",
      "Bash(poetry:*)",
      "Bash(export:*)",
      "Bash(DJANGO_SETTINGS_MODULE=core.settings_test poetry run python manage.py test tests.test_public_web_views.PublicWebViewsTest.test_legacy_app_views_still_work --verbosity=2 --keepdb --noinput)",
      "Bash(DJANGO_SETTINGS_MODULE=core.settings_test poetry run python manage.py test tests.test_public_web_views --verbosity=1 --keepdb --noinput)",
      "Bash(DJANGO_SETTINGS_MODULE=core.settings_test poetry run python manage.py test tests.test_public_web_integration --verbosity=1 --keepdb --noinput)",
      "Bash(DJANGO_SETTINGS_MODULE=core.settings_test poetry run python -c \"\nfrom core.views import get_preferred_language\nfrom django.test import RequestFactory\nfrom django.conf import settings\n\n# Test the improved language detection\nfactory = RequestFactory()\n\n# Test normal operation\nrequest = factory.get('/', HTTP_ACCEPT_LANGUAGE='fr,en;q=0.9')\nlang = get_preferred_language(request)\nprint(f'Normal operation: {lang}')\n\n# Test malformed header (should not crash)\nrequest = factory.get('/', HTTP_ACCEPT_LANGUAGE=';;invalid;;')\nlang = get_preferred_language(request)\nprint(f'Malformed header: {lang}')\n\n# Test empty header\nrequest = factory.get('/')\nlang = get_preferred_language(request)\nprint(f'No header: {lang}')\n\n# Test configuration\nprint(f'Supported languages: {[code for code, name in settings.LANGUAGES]}')\n\")",
      "Bash(for app in institutions courses students instructors assessments analytics content administration api)",
      "Bash(do)",
      "Bash(done)",
      "Bash(DJANGO_SETTINGS_MODULE=lms.settings poetry run python ../lms/setup_organizations.py)",
      "Bash(PYTHONPATH=/mnt/c/Users/louis/WebstormProjects/linguify:$PYTHONPATH DJANGO_SETTINGS_MODULE=lms.settings poetry run python /mnt/c/Users/louis/WebstormProjects/linguify/lms/setup_organizations.py)",
      "Bash(PYTHONPATH=/mnt/c/Users/louis/WebstormProjects/linguify:$PYTHONPATH DJANGO_SETTINGS_MODULE=lms.settings poetry run python -c \"\nimport django\ndjango.setup()\nfrom django.contrib.auth import authenticate\n\n# Test avec email\nprint(''=== Test authentification avec email ==='')\nuser1 = authenticate(username=''john.doe@stanford.edu'', password=''student123'')\nprint(f''Email auth result: {user1}'')\n\n# Test avec username\nprint(''=== Test authentification avec username ==='')\nuser2 = authenticate(username=''john.doe'', password=''student123'')\nprint(f''Username auth result: {user2}'')\n\")",
      "Bash(PYTHONPATH=/mnt/c/Users/louis/WebstormProjects/linguify:$PYTHONPATH DJANGO_SETTINGS_MODULE=lms.settings poetry run python -c \"\nimport django\ndjango.setup()\nfrom lms.apps.tenants.models import OrganizationUser, Organization\nfrom lms.apps.tenants.db_router import set_current_database, clear_current_database\n\nprint(''=== Nettoyage des utilisateurs dans les bases tenant ==='')\n\n# Vérifier les utilisateurs dans la base par défaut\nclear_current_database()\nmain_users = OrganizationUser.objects.all()\nprint(f''Utilisateurs dans la base principale: {main_users.count()}'')\nfor user in main_users:\n    print(f''  - {user.username}: {user.email}'')\n\nprint(''\\n=== Test authentification dans base principale ==='')\nfrom django.contrib.auth import authenticate\n\nuser = authenticate(username=''john.doe'', password=''student123'')\nprint(f''Authentification john.doe: {user}'')\n\nif user:\n    print(''✅ L\\''authentification fonctionne dans la base principale'')\nelse:\n    print(''❌ Problème d\\''authentification'')\n\")",
      "Bash(PYTHONPATH=/mnt/c/Users/louis/WebstormProjects/linguify:$PYTHONPATH DJANGO_SETTINGS_MODULE=lms.settings poetry run python manage.py migrate students)",
      "Bash(./venv/bin/python -c \"import django; print(''✅ Django'', django.get_version())\")",
      "Bash(kill:*)",
      "Bash(git checkout:*)",
      "Bash(./venv/bin/python:*)",
      "Bash(createdb:*)",
      "Bash(DJANGO_SETTINGS_MODULE=core.settings_test poetry run python manage.py test apps.revision.tests.test_models --verbosity=2 --keepdb)",
      "Bash(DJANGO_SETTINGS_MODULE=core.settings_test poetry run python manage.py test apps.revision.tests.test_serializers --verbosity=2 --keepdb)",
      "Bash(DJANGO_SETTINGS_MODULE=core.settings_test poetry run python manage.py test apps.revision.tests.test_simple --verbosity=2 --keepdb)",
      "Bash(DJANGO_SETTINGS_MODULE=core.settings_test poetry run python manage.py test apps.revision.tests.test_learning_settings.LearningSettingsAPITest.test_update_card_progress --verbosity=2)",
      "Bash(DJANGO_SETTINGS_MODULE=core.settings_test poetry run python manage.py test apps.revision.tests.test_learning_viewsets.LearningSettingsViewSetTest.test_learning_settings_get_unauthorized --verbosity=2)",
      "Bash(DJANGO_SETTINGS_MODULE=core.settings_test poetry run python manage.py test apps.revision.tests.test_learning_viewsets.LearningSettingsViewSetTest.test_learning_settings_get_unauthenticated --verbosity=2)",
      "Bash(DJANGO_SETTINGS_MODULE=core.settings_test poetry run python -c \"\nfrom django.test import TestCase\nfrom django.contrib.auth import get_user_model\nfrom rest_framework.test import APITestCase, APIClient\nfrom rest_framework import status\nfrom django.urls import reverse\nfrom apps.revision.models import FlashcardDeck\n\nUser = get_user_model()\n\nclient = APIClient()\nuser = User.objects.create_user(username=''testuser'', email=''test@example.com'', password=''testpass123'')\ndeck = FlashcardDeck.objects.create(user=user, name=''Test Deck'')\n\nurl = reverse(''revision:deck-learning-settings'', args=[deck.id])\nresponse = client.get(url)\nprint(f''Status: {response.status_code}'')\nprint(f''Data: {response.data}'')\n\")",
      "Bash(DJANGO_SETTINGS_MODULE=core.settings_test poetry run python manage.py test apps.revision.tests.test_learning_viewsets --verbosity=0)",
      "Bash(DJANGO_SETTINGS_MODULE=core.settings_test python -c \"\nimport django; django.setup()\nfrom django.contrib.auth.models import AnonymousUser\nfrom django.test import RequestFactory\nfrom rest_framework.test import APIRequestFactory\nfactory = APIRequestFactory()\nrequest = factory.get(''/test/'')\nprint(f''User: {request.user}'')\nprint(f''Is authenticated: {request.user.is_authenticated}'')\nprint(f''Type: {type(request.user)}'')\n\")",
      "Bash(DJANGO_SETTINGS_MODULE=core.settings_test poetry run python -c \"\nimport django; django.setup()\nfrom django.contrib.auth.models import AnonymousUser\nfrom django.test import RequestFactory\nfrom rest_framework.test import APIRequestFactory\nfactory = APIRequestFactory()\nrequest = factory.get(''/test/'')\nprint(f''User: {request.user}'')\nprint(f''Is authenticated: {request.user.is_authenticated}'')\nprint(f''Type: {type(request.user)}'')\n\")"
    ],
    "deny": []
  },
  "enableAllProjectMcpServers": false
}