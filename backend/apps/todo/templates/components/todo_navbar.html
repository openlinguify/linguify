{% load static %}
{% load i18n %}
<!-- Todo App Navbar - Linguify Style -->
<div class="navbar-linguify">
    <!-- Gauche: Navigation + Actions principales -->
    <div class="navbar-section">
        <!-- Navigation tabs -->
        <div class="nav-tabs-group">
            <a href="{% url 'todo_web:kanban' %}" 
               class="nav-tab {% if active_view == 'kanban' %}active{% endif %}">
                <i class="bi bi-kanban"></i>
                {% trans "Kanban" %}
            </a>
            <a href="{% url 'todo_web:list' %}" 
               class="nav-tab {% if active_view == 'list' %}active{% endif %}">
                <i class="bi bi-list-ul"></i>
                {% trans "List" %}
            </a>
            <a href="{% url 'todo_web:activity' %}" 
               class="nav-tab {% if active_view == 'activity' %}active{% endif %}">
                <i class="bi bi-clock-history"></i>
                {% trans "Activity" %}
            </a>
        </div>
        
        <!-- Refresh -->
        <button id="refreshTasks" class="btn-navbar btn-navbar-outline" title="{% trans 'Refresh tasks' %}">
            <i class="bi bi-arrow-clockwise"></i>
            <span class="d-none d-xl-inline">{% trans "Refresh" %}</span>
        </button>
    </div>
            
    
    <!-- Droite: Actions et filtres contextuels -->
    <div class="navbar-section-right">
        <!-- Filtres -->
        <input type="text" id="searchInput" class="form-control-linguify" placeholder="{% trans 'Search tasks...' %}" style="width: 140px; min-width: 100px;">
        
        <!-- Status Filter Dropdown -->
        <div class="dropdown">
            <button id="statusFilterToggle" class="btn btn-outline-linguify dropdown-toggle" style="width: 110px; min-width: 90px;" data-bs-toggle="dropdown">
                <span id="statusFilterText">{% trans "All Status" %}</span>
            </button>
            <ul id="statusFilterDropdown" class="dropdown-menu">
                <li><a class="dropdown-item" href="#" onclick="selectStatusFilter('', '{% trans "All Status" %}')">{% trans "All Status" %}</a></li>
                <li><a class="dropdown-item" href="#" onclick="selectStatusFilter('open', '{% trans "Open" %}')">{% trans "Open" %}</a></li>
                <li><a class="dropdown-item" href="#" onclick="selectStatusFilter('completed', '{% trans "Completed" %}')">{% trans "Completed" %}</a></li>
                <li><a class="dropdown-item" href="#" onclick="selectStatusFilter('overdue', '{% trans "Overdue" %}')">{% trans "Overdue" %}</a></li>
            </ul>
        </div>
        
        <!-- Priority Filter Dropdown -->
        <div class="dropdown">
            <button id="priorityFilterToggle" class="btn btn-outline-linguify dropdown-toggle" style="width: 110px; min-width: 90px;" data-bs-toggle="dropdown">
                <span id="priorityFilterText">{% trans "All Priority" %}</span>
            </button>
            <ul id="priorityFilterDropdown" class="dropdown-menu">
                <li><a class="dropdown-item" href="#" onclick="selectPriorityFilter('', '{% trans "All Priority" %}')">{% trans "All Priority" %}</a></li>
                <li><a class="dropdown-item" href="#" onclick="selectPriorityFilter('high', '{% trans "High" %}')">{% trans "High" %}</a></li>
                <li><a class="dropdown-item" href="#" onclick="selectPriorityFilter('medium', '{% trans "Medium" %}')">{% trans "Medium" %}</a></li>
                <li><a class="dropdown-item" href="#" onclick="selectPriorityFilter('low', '{% trans "Low" %}')">{% trans "Low" %}</a></li>
            </ul>
        </div>
        
        <!-- Sort Filter Dropdown -->
        <div class="dropdown">
            <button id="sortFilterToggle" class="btn btn-outline-linguify dropdown-toggle" style="width: 110px; min-width: 90px;" data-bs-toggle="dropdown">
                <span id="sortFilterText">{% trans "Recent" %}</span>
            </button>
            <ul id="sortFilterDropdown" class="dropdown-menu">
                <li><a class="dropdown-item" href="#" onclick="selectSortFilter('updated_desc', '{% trans "Recent" %}')">{% trans "Recent" %}</a></li>
                <li><a class="dropdown-item" href="#" onclick="selectSortFilter('title_asc', '{% trans "A-Z" %}')">{% trans "A-Z" %}</a></li>
                <li><a class="dropdown-item" href="#" onclick="selectSortFilter('priority_desc', '{% trans "Priority" %}')">{% trans "Priority" %}</a></li>
                <li><a class="dropdown-item" href="#" onclick="selectSortFilter('due_date_asc', '{% trans "Due Date" %}')">{% trans "Due Date" %}</a></li>
            </ul>
        </div>
        
        <!-- Actions -->
        <div class="navbar-actions-group">
            <button id="importTasks" class="btn-navbar btn-navbar-outline" onclick="importTasks()">
                <i class="bi bi-upload"></i>
                <span class="d-none d-xxl-inline">{% trans "Import" %}</span>
            </button>
            
            <button id="createTask" class="btn-navbar btn-navbar-primary" onclick="createNewTask()">
                <i class="bi bi-plus-lg"></i>
                <span class="d-none d-xxl-inline">{% trans "New Task" %}</span>
            </button>
        </div>
    </div>
</div>