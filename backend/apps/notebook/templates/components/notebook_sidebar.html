{% load static %}
{% load i18n %}
<!-- Notebook Sidebar Component -->
<div id="notebookSidebar" class="sidebar-linguify show">
    <div class="sidebar-content">
        <!-- Header de la sidebar -->
        <div class="sidebar-header">
            <input type="text"
                   x-model="searchQuery"
                   @input.debounce.300ms="loadNotes()"
                   placeholder="{% trans 'Search notes...' %}"
                   class="sidebar-search">
        </div>

        <!-- Liste des notes -->
        <div class="notes-list">

        <!-- Empty state -->
        <div class="empty-state" x-show="!isLoading && notes.length === 0">
            <i class="fas fa-sticky-note"></i>
            <h3>{% trans 'No notes found' %}</h3>
            <p>{% trans 'Start by creating your first note!' %}</p>
            <button @click="openCreateModal()" class="btn btn-primary">
                <i class="fas fa-plus"></i>
                {% trans 'Create a note' %}
            </button>
        </div>

        <!-- Notes loop for sidebar -->
        <template x-for="note in notes" :key="note.id">
            <div class="note-list-item"
                 :class="{ 'selected': currentNote && currentNote.id === note.id, 'pinned': note.is_pinned }"
                 @click="openNote(note)">

                <!-- Titre de la note -->
                <div class="note-list-title" x-text="note.title || '{% trans 'Untitled' %}'"></div>

                <!-- Aperçu du contenu -->
                <div class="note-list-preview" x-text="note.content || '{% trans 'No content' %}'"></div>

                <!-- Métadonnées -->
                <div class="note-list-meta">
                    <div class="note-tags">
                        <span x-show="note.note_type" class="note-tag type" x-text="note.note_type"></span>
                    </div>
                    <span class="note-date" x-text="timeAgo(note.updated_at)"></span>
                </div>
            </div>
        </template>
        </div>
    </div>
</div>