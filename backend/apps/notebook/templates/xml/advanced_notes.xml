<?xml version="1.0" encoding="utf-8"?>
<linguify>
    <data>
        <!-- Vue kanban avanc√©e pour les notes -->
        <record id="note_kanban_view" model="ir.ui.view">
            <field name="name">note.kanban</field>
            <field name="model">notebook.note</field>
            <field name="arch" type="xml">
                <kanban default_group_by="note_type">
                    <field name="title"/>
                    <field name="content"/>
                    <field name="note_type"/>
                    <field name="priority"/>
                    <field name="language"/>
                    <field name="is_pinned"/>
                    <field name="is_archived"/>
                    <field name="created_at"/>
                    <field name="updated_at"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div class="oe_kanban_card" t-attf-class="#{record.priority.raw_value === 'HIGH' ? 'oe_kanban_color_2' : record.priority.raw_value === 'MEDIUM' ? 'oe_kanban_color_5' : 'oe_kanban_color_0'}">
                                <div class="oe_kanban_content">
                                    <div class="oe_kanban_title">
                                        <strong><field name="title"/></strong>
                                        <t t-if="record.is_pinned.raw_value">üìå</t>
                                    </div>
                                    <div class="oe_kanban_details">
                                        <div><strong>Langue:</strong> <field name="language"/></div>
                                        <div><strong>Priorit√©:</strong> <field name="priority"/></div>
                                        <div class="oe_kanban_content_text">
                                            <field name="content"/>
                                        </div>
                                    </div>
                                    <div class="oe_kanban_bottom">
                                        <div class="oe_kanban_bottom_left">
                                            <field name="updated_at"/>
                                        </div>
                                        <div class="oe_kanban_bottom_right">
                                            <t t-if="record.is_archived.raw_value">üóÑÔ∏è</t>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <!-- Vue calendrier pour les notes -->
        <record id="note_calendar_view" model="ir.ui.view">
            <field name="name">note.calendar</field>
            <field name="model">notebook.note</field>
            <field name="arch" type="xml">
                <calendar string="Notes Calendar"
                         date_start="created_at"
                         color="priority"
                         quick_add="false">
                    <field name="title"/>
                    <field name="note_type"/>
                    <field name="priority"/>
                    <field name="language"/>
                </calendar>
            </field>
        </record>

        <!-- Vue graphique pour les notes -->
        <record id="note_graph_view" model="ir.ui.view">
            <field name="name">note.graph</field>
            <field name="model">notebook.note</field>
            <field name="arch" type="xml">
                <graph string="Statistiques des Notes" type="bar">
                    <field name="note_type" type="row"/>
                    <field name="priority" type="col"/>
                </graph>
            </field>
        </record>

        <!-- Vue pivot pour les notes -->
        <record id="note_pivot_view" model="ir.ui.view">
            <field name="name">note.pivot</field>
            <field name="model">notebook.note</field>
            <field name="arch" type="xml">
                <pivot string="Analyse des Notes">
                    <field name="note_type" type="row"/>
                    <field name="language" type="row"/>
                    <field name="priority" type="col"/>
                    <field name="created_at" type="col" interval="month"/>
                </pivot>
            </field>
        </record>

        <!-- Vue de recherche avanc√©e pour les notes -->
        <record id="note_search_advanced_view" model="ir.ui.view">
            <field name="name">note.search.advanced</field>
            <field name="model">notebook.note</field>
            <field name="arch" type="xml">
                <search string="Recherche Avanc√©e Notes">
                    <field name="title"/>
                    <field name="content"/>
                    <field name="category"/>
                    <field name="language"/>
                    <field name="translation"/>
                    <field name="related_words"/>

                    <!-- Filtres pr√©d√©finis -->
                    <filter string="Notes √©pingl√©es" domain="[('is_pinned', '=', True)]"/>
                    <filter string="Notes archiv√©es" domain="[('is_archived', '=', True)]"/>
                    <filter string="Priorit√© haute" domain="[('priority', '=', 'HIGH')]"/>
                    <filter string="Vocabulaire" domain="[('note_type', '=', 'VOCABULARY')]"/>
                    <filter string="Grammaire" domain="[('note_type', '=', 'GRAMMAR')]"/>
                    <filter string="√Ä r√©viser" domain="[('last_reviewed_at', '=', False)]"/>

                    <separator/>

                    <!-- Filtres par date -->
                    <filter string="Cr√©√© aujourd'hui" domain="[('created_at', '>=', datetime.datetime.now().strftime('%Y-%m-%d 00:00:00'))]"/>
                    <filter string="Cr√©√© cette semaine" domain="[('created_at', '>=', (datetime.datetime.now() - datetime.timedelta(weeks=1)).strftime('%Y-%m-%d 00:00:00'))]"/>
                    <filter string="Modifi√© r√©cemment" domain="[('updated_at', '>=', (datetime.datetime.now() - datetime.timedelta(days=3)).strftime('%Y-%m-%d 00:00:00'))]"/>

                    <separator/>

                    <!-- Groupements -->
                    <group expand="0" string="Grouper par">
                        <filter string="Type" context="{'group_by': 'note_type'}"/>
                        <filter string="Cat√©gorie" context="{'group_by': 'category'}"/>
                        <filter string="Langue" context="{'group_by': 'language'}"/>
                        <filter string="Priorit√©" context="{'group_by': 'priority'}"/>
                        <filter string="Difficult√©" context="{'group_by': 'difficulty'}"/>
                        <filter string="Date de cr√©ation" context="{'group_by': 'created_at:month'}"/>
                        <filter string="Utilisateur" context="{'group_by': 'user'}"/>
                    </group>
                </search>
            </field>
        </record>

        <!-- Vue liste compacte pour les notes -->
        <record id="note_tree_compact_view" model="ir.ui.view">
            <field name="name">note.tree.compact</field>
            <field name="model">notebook.note</field>
            <field name="arch" type="xml">
                <tree string="Notes (Vue Compacte)" editable="top">
                    <field name="is_pinned" widget="boolean_toggle"/>
                    <field name="title"/>
                    <field name="note_type"/>
                    <field name="language"/>
                    <field name="priority" widget="priority"/>
                    <field name="category"/>
                    <field name="review_count"/>
                    <field name="last_reviewed_at"/>
                    <field name="created_at"/>
                    <field name="is_archived" widget="boolean_toggle"/>
                </tree>
            </field>
        </record>
    </data>
</linguify>