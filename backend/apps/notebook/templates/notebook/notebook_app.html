{% extends "saas_web/base.html" %}
{% load static %}
{% load i18n %}

{% block title %}Notebook - Notes{% endblock %}

{% block header_content %}
{% include 'components/header/app_header.html' %}
{% include 'components/notebook_navbar.html' %}
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'notebook/css/notebook.css' %}">
{% endblock %}

{% block extra_head %}
<script src="https://unpkg.com/htmx.org@1.9.6"></script>
<!-- Alpine.js local pour vitesse ultime -->
<script src="{% static 'js/alpine.min.js' %}" defer></script>
{% endblock %}

{% block content %}
{% csrf_token %}

<!-- Main notebook app - FAST LOAD -->
<div class="notebook-app" x-data="notebookApp()" x-init="init(); $nextTick(() => $el.classList.add('alpine-initialized'))">
    <div class="notebook-layout">
        <!-- Sidebar Component -->
        {% include 'components/notebook_sidebar.html' %}

        <!-- Editor Component -->
        {% include 'components/notebook_editor.html' %}
    </div>

    <!-- Modal Component -->
    {% include 'components/notebook_modal.html' %}
</div>

<!-- Script local uniquement - Alpine.js déjà chargé dans head -->
<script src="{% static 'notebook/js/notebook.js' %}"></script>
{% endblock %}