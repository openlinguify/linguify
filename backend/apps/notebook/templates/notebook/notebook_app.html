{% extends "saas_web/base.html" %}
{% load static %}
{% load i18n %}

{% block title %}Notebook - Notes{% endblock %}

{% block header_content %}
{% include 'components/header/app_header.html' %}
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'editor-linguify/editor.css' %}">
<link rel="stylesheet" href="{% static 'notebook/css/notebook.css' %}">
{% endblock %}

{% block extra_head %}
<script src="https://unpkg.com/htmx.org@1.9.6"></script>
<!-- Alpine.js local pour vitesse ultime -->
<script src="{% static 'js/alpine.min.js' %}" defer></script>

<!-- Editor.js and tools via CDN -->
<script src="https://cdn.jsdelivr.net/npm/@editorjs/editorjs@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/header@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/list@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/checklist@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/quote@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/code@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/delimiter@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/table@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/marker@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/inline-code@latest"></script>
{% endblock %}

{% block content %}
{% csrf_token %}
<!-- Main notebook app - FAST LOAD -->
<div class="notebook-app" x-data="notebookApp()" x-init="init(); $nextTick(() => $el.classList.add('alpine-initialized'))">
    <div>
    {% include 'components/notebook_navbar.html' %}
    </div>
        <div class="conteneur-content">
            {% include 'components/notebook_sidebar.html' %}
            {% include 'components/notebook_editor.html' %}
        </div>
</div>

<!-- Scripts locaux - Alpine.js déjà chargé dans head -->
<script src="{% static 'editor-linguify/editor.js' %}"></script>
<script src="{% static 'notebook/js/notebook.js' %}"></script>
{% endblock %}