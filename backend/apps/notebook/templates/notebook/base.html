{% extends "saas_web/base.html" %}
{% load static %}

{% block title %}{{ view_id }} - Notebook{% endblock %}

{% block extra_css %}
<link href="{% static 'notebook/css/main.css' %}" rel="stylesheet">
<style>
    /* Ajustements spÃ©cifiques pour le notebook */
    .app-container-layout {
        height: calc(100vh - 64px);
        overflow: hidden;
        display: flex;
    }

    /* Override sidebar styles pour Ãªtre compatible avec le header existant */
    .sidebar {
        position: relative;
        height: 100%;
    }

    .main-content {
        flex: 1;
        height: 100%;
    }
</style>
{% endblock %}

{% block content %}
<div class="app-container-layout">
    <div class="container-fluid h-100">
        <div class="row h-100">
            <!-- Sidebar gauche gÃ©nÃ©rÃ©e depuis XML -->
            <div class="col-md-3 sidebar">
                {{ sidebar_html|safe }}
            </div>

            <!-- Zone principale droite -->
            <div class="col-md-9 main-content">
                <div class="content-area h-100">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4>ðŸ“Š {{ view_type|title }} View</h4>
                        <div class="view-actions">
                            <button class="btn btn-sm btn-outline-primary" onclick="refreshData()">
                                ðŸ”„ Actualiser
                            </button>
                        </div>
                    </div>
                    {{ content_html|safe }}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'notebook/js/main.js' %}"></script>
{% endblock %}