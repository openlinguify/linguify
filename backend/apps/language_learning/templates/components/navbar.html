<!-- Navbar Language Learning - Linguify Style -->
<div class="navbar-linguify">
    <!-- Section gauche: Navigation + Actions -->
    <div class="navbar-section">
        <!-- Toggle sidebar mobile -->
        <button class="btn-navbar-outline d-md-none" @click="sidebarOpen = !sidebarOpen">
            <i class="bi bi-list"></i>
        </button>

        <!-- Tabs de navigation -->
        <div class="nav-tabs-group">
            <a href="{% url 'language_learning:home' %}"
               class="nav-tab {% if not view_type or view_type == 'home' %}active{% endif %}">
                <i class="bi bi-house"></i>
                Accueil
            </a>
            <a href="{% url 'language_learning:home' %}?view=lessons"
               class="nav-tab {% if view_type == 'lessons' %}active{% endif %}">
                <i class="bi bi-book"></i>
                LeÃ§ons
            </a>
            <a href="{% url 'language_learning:progress' %}?view=progress"
               class="nav-tab {% if view_type == 'progress' %}active{% endif %}">
                <i class="bi bi-graph-up"></i>
                ProgrÃ¨s
            </a>
            <a href="{% url 'language_learning:home' %}?view=practice"
               class="nav-tab {% if view_type == 'practice' %}active{% endif %}">
                <i class="bi bi-lightning"></i>
                Pratique
            </a>
            <a href="{% url 'language_learning:settings' %}"
               class="nav-tab">
                <i class="bi bi-gear"></i>
                ParamÃ¨tres
            </a>
        </div>
    </div>

    <!-- Section droite: SÃ©lecteur de langue et actions -->
    <div class="navbar-section-right">
        <!-- SÃ©lecteur de langue principal -->
        <select
            class="form-select-linguify"
            style="min-width: 180px;"
            hx-get="{% url 'language_learning:learning_interface' %}"
            hx-trigger="change"
            hx-target="#learning-content"
            hx-swap="outerHTML"
            hx-push-url="true"
            name="lang"
            id="language-selector"
        >
            <option value="en" {% if selected_language == 'en' %}selected{% endif %}>ðŸ‡¬ðŸ‡§ English</option>
            <option value="fr" {% if selected_language == 'fr' %}selected{% endif %}>ðŸ‡«ðŸ‡· FranÃ§ais</option>
            <option value="es" {% if selected_language == 'es' %}selected{% endif %}>ðŸ‡ªðŸ‡¸ EspaÃ±ol</option>
            <option value="nl" {% if selected_language == 'nl' %}selected{% endif %}>ðŸ‡³ðŸ‡± Nederlands</option>
        </select>

        {% if selected_language %}
        <span class="badge-linguify badge-primary">
            <i class="bi bi-check-circle"></i>
            {{ selected_language_name }}
        </span>
        {% endif %}

        <!-- Bouton actualiser -->
        <button class="btn-navbar btn-navbar-outline"
                hx-get="{% url 'language_learning:refresh_progress' %}?lang={{ selected_language }}"
                hx-target="#progress-info"
                title="Actualiser">
            <i class="bi bi-arrow-clockwise"></i>
            <span class="d-none d-lg-inline">Actualiser</span>
        </button>

        <!-- Actions principales -->
        <div class="navbar-actions-group">
            {% if selected_language %}
            <button class="btn-navbar btn-navbar-primary"
                    onclick="window.location.href='{% url 'language_learning:home' %}?lang={{ selected_language }}&practice=true'"
                    title="Session de pratique">
                <i class="bi bi-play-fill"></i>
                <span class="d-none d-xl-inline">Pratiquer</span>
            </button>
            {% endif %}
        </div>
    </div>
</div>