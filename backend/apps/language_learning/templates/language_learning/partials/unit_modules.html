<h3>{{ active_unit.title }}</h3>
<p class="text-muted">{{ active_unit.description }}</p>

<div class="module-grid">
    {% for item in modules %}
    <div
        class="module-card {% if item.is_completed %}completed{% endif %} {% if item.is_locked %}locked{% endif %}"
        {% if not item.is_locked %}
        hx-get="{% url 'language_learning:start_module' item.module.id %}"
        hx-target="#module-modal"
        hx-trigger="click"
        {% endif %}
    >
        <span class="module-type-badge type-{{ item.module.module_type }}">
            {{ item.module.get_module_type_display }}
        </span>
        <h5>{{ item.module.title }}</h5>
        <p class="text-muted small">{{ item.module.description }}</p>

        <div class="d-flex justify-content-between align-items-center mt-3">
            <span class="text-muted small">
                <i class="bi bi-clock"></i> {{ item.module.estimated_duration }} min
            </span>
            <span class="text-muted small">
                <i class="bi bi-star"></i> {{ item.module.xp_reward }} XP
            </span>
        </div>

        {% if item.is_completed %}
        <div class="position-absolute top-0 end-0 p-2">
            <i class="bi bi-check-circle-fill text-success" style="font-size: 1.5rem;"></i>
        </div>
        {% elif item.is_locked %}
        <div class="position-absolute top-0 end-0 p-2">
            <i class="bi bi-lock-fill text-muted" style="font-size: 1.5rem;"></i>
        </div>
        {% endif %}
    </div>
    {% empty %}
    <div class="alert alert-info">
        <i class="bi bi-info-circle"></i>
        Aucun module disponible pour cette unit√©.
    </div>
    {% endfor %}
</div>