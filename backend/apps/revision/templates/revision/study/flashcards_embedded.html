{% load i18n %}
<!-- Flashcard Study Mode -->
<div id="flashcardStudyMode" class="study-mode-hidden">
    <div class="study-header">
        <div class="d-flex align-items-center justify-content-between">
            <h5 class="mb-0 text-linguify-primary font-weight-600">{% trans "Flashcards Mode" %} - <span id="studyDeckName"></span></h5>
            <div class="d-flex align-items-center gap-2">
                <span id="studyProgress" class="badge bg-linguify-gradient text-white px-3 py-2 rounded-lg">0/0</span>
                <button id="exitStudyMode" class="flashcard-btn-return">
                    <i class="bi bi-arrow-left"></i>
                    {% trans "Back to deck" %}
                </button>
            </div>
        </div>
    </div>
    
    <div class="study-content">
        <!-- Study Area -->
        <div id="studyArea" class="d-flex flex-column align-items-center justify-content-center p-4 study-area">
            <!-- Flashcard -->
            <div id="flashcard" class="flashcard mb-4" onclick="flipCard()">
                <div class="flashcard-inner">
                    <div class="flashcard-front">
                        <div class="flashcard-text" id="flashcardFront">{% trans "Click to start" %}</div>
                        <button id="speakFrontBtn" class="speak-btn speak-btn-front"
                                onclick="event.stopPropagation(); window.flashcardMode.speakText('front')"
                                aria-label="{% trans 'Read the front of the card aloud' %}"
                                title="{% trans 'Read aloud' %}">
                            <i class="bi bi-volume-up" aria-hidden="true"></i>
                        </button>
                    </div>
                    <div class="flashcard-back">
                        <div class="flashcard-text" id="flashcardBack">{% trans "Answer" %}</div>
                        <button id="speakBackBtn" class="speak-btn speak-btn-back"
                                onclick="event.stopPropagation(); window.flashcardMode.speakText('back')"
                                aria-label="{% trans 'Read the back of the card aloud' %}"
                                title="{% trans 'Read aloud' %}">
                            <i class="bi bi-volume-up" aria-hidden="true"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Instructions -->
            <div id="studyInstructions" class="text-center mb-4">
                <p class="text-gray-600">{% trans "Click on the card to see the answer, then evaluate your knowledge" %}</p>
            </div>
            
            <!-- Action Buttons -->
            <div id="studyActions" class="d-flex gap-3 study-actions-hidden">
                <button id="studyDifficult" class="flashcard-btn-difficult">
                    <i class="bi bi-x-circle"></i>
                    {% trans "Difficult" %}
                </button>
                <button id="studyEasy" class="flashcard-btn-medium">
                    <i class="bi bi-dash-circle"></i>
                    {% trans "Medium" %}
                </button>
                <button id="studyKnown" class="flashcard-btn-easy">
                    <i class="bi bi-check-circle"></i>
                    {% trans "Easy" %}
                </button>
            </div>
            
            <!-- Empty State -->
            <div id="noCardsToStudy" class="empty-state empty-state-hidden">
                <i class="bi bi-trophy icon-linguify-warning font-size-4rem"></i>
                <h4 class="mt-3 text-linguify-primary">{% trans "Congratulations!" %}</h4>
                <p class="text-gray-600">{% trans "You have completed all the cards in this deck for today." %}</p>
                <button class="btn-linguify" onclick="window.revisionMain.exitStudyMode()">
                    {% trans "Back to deck" %}
                </button>
            </div>

            <!-- Completion State (hidden by default) -->
            <div id="flashcardCompletionContainer" style="display: none;">
                {% include 'revision/study/flashcards_completion.html' %}
            </div>
        </div>
        
        <!-- Study Stats -->
        <div class="study-stats">
            <div class="row text-center">
                <div class="col">
                    <div class="stat-value text-linguify-accent" id="studyCorrect">0</div>
                    <div class="stat-label">{% trans "Correct" %}</div>
                </div>
                <div class="col">
                    <div class="stat-value text-linguify-warning" id="studyMedium">0</div>
                    <div class="stat-label">{% trans "Medium" %}</div>
                </div>
                <div class="col">
                    <div class="stat-value text-danger" id="studyDifficultCount">0</div>
                    <div class="stat-label">{% trans "Difficult" %}</div>
                </div>
                <div class="col">
                    <div class="stat-value text-linguify-primary" id="studyRemaining">0</div>
                    <div class="stat-label">{% trans "Remaining" %}</div>
                </div>
            </div>
        </div>
    </div>
</div>