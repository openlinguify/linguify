<!-- Profile & Account Tab -->
{% load i18n %}
  <!-- Profile Picture Section -->
  <div class="content-section">
    <div class="section-header">
      <h3 class="section-title">
        <i class="bi bi-person-circle"></i>
        {% trans "Profile picture" %}
      </h3>
      <div class="section-actions">
        <button class="section-toggle">
          <i class="bi bi-chevron-up"></i>
        </button>
      </div>
    </div>
    <div class="section-content">
      <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <input type="hidden" name="setting_type" value="profile">
        <div class="form-group">
          <label class="form-label">{% trans "Profile picture" %}</label>
          <input type="file" name="profile_picture" accept="image/*" class="form-control">
          <div class="form-help">{% trans "Accepted formats: JPG, PNG, WEBP. Max size: 5MB" %}</div>
        </div>
        <div class="btn-group">
          <button type="submit" class="btn-primary">
            <i class="bi bi-upload"></i>
            {% trans "Upload" %}
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Personal Information Section -->
  <div class="content-section">
    <div class="section-header">
      <h3 class="section-title">
        <i class="bi bi-person-lines-fill"></i>
        {% trans "Personal information" %}
      </h3>
      <div class="section-actions">
        <button class="section-toggle">
          <i class="bi bi-chevron-up"></i>
        </button>
      </div>
    </div>
    <div class="section-content">
      <form method="post">
        {% csrf_token %}
        <input type="hidden" name="setting_type" value="profile">
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">{% trans "First name" %}</label>
            <input type="text" name="first_name" class="form-control" value="{{ user.first_name }}" required>
          </div>
          <div class="form-group">
            <label class="form-label">{% trans "Last name" %}</label>
            <input type="text" name="last_name" class="form-control" value="{{ user.last_name }}" required>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">{% trans "Email" %}</label>
          <input type="email" name="email" class="form-control" value="{{ user.email }}" disabled>
          <div class="form-help">{% trans "Email cannot be changed" %}</div>
        </div>
        <div class="form-group">
          <label class="form-label">{% trans "Phone number" %}</label>
          <input type="tel" name="phone_number" class="form-control" value="{{ user.profile.phone_number|default:'' }}" placeholder="+32 123 456 789">
          <div class="form-help">{% trans "Optional. Format: +32 123 456 789" %}</div>
        </div>
        <div class="form-group">
          <label class="form-label">{% trans "Username" %}</label>
          <input type="text" name="username" class="form-control" value="{{ user.username }}" required>
        </div>
        <div class="form-group">
          <label class="form-label">{% trans "Biography" %}</label>
          <textarea name="bio" class="form-control" rows="3" placeholder="{% trans 'Tell us about yourself...' %}">{{ user.profile.bio|default:'' }}</textarea>
        </div>
        <div class="btn-group">
          <button type="submit" class="btn-primary">
            <i class="bi bi-save"></i>
            {% trans "Save" %}
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Privacy & Security Section -->
  <div class="content-section">
    <div class="section-header">
      <h3 class="section-title">
        <i class="bi bi-shield-lock"></i>
        {% trans "Privacy & Security" %}
      </h3>
      <div class="section-actions">
        <button class="section-toggle">
          <i class="bi bi-chevron-up"></i>
        </button>
      </div>
    </div>
    <div class="section-content">
      <form method="post">
        {% csrf_token %}
        <input type="hidden" name="setting_type" value="privacy">
        <div class="form-group">
          <label class="form-label">
            <input type="checkbox" name="public_profile" {% if user.profile.public_profile %}checked{% endif %}>
            {% trans "Public profile" %}
          </label>
          <div class="form-help">{% trans "Allow other users to see your profile" %}</div>
        </div>
        <div class="form-group">
          <label class="form-label">
            <input type="checkbox" name="share_progress" {% if user.profile.share_progress %}checked{% endif %}>
            {% trans "Share my progress" %}
          </label>
          <div class="form-help">{% trans "Display your learning stats on your profile" %}</div>
        </div>
        <div class="btn-group">
          <button type="submit" class="btn-primary">
            <i class="bi bi-save"></i>
            {% trans "Save" %}
          </button>
        </div>
      </form>
    </div>
  </div>