{% load i18n %}

<!-- Modular Messages Component -->
{% if messages %}
<div class="messages-container">
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
        <div class="d-flex align-items-center">
            {% if message.tags == 'success' %}
                <i class="bi bi-check-circle-fill me-2"></i>
            {% elif message.tags == 'error' or message.tags == 'danger' %}
                <i class="bi bi-x-circle-fill me-2"></i>
            {% elif message.tags == 'warning' %}
                <i class="bi bi-exclamation-triangle-fill me-2"></i>
            {% else %}
                <i class="bi bi-info-circle-fill me-2"></i>
            {% endif %}
            <div>{{ message }}</div>
        </div>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endfor %}
</div>

<style>
.messages-container {
    position: fixed;
    top: 80px;
    right: 20px;
    z-index: 1050;
    max-width: 400px;
}

.messages-container .alert {
    animation: slideInRight 0.3s ease;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

@keyframes slideInRight {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@media (max-width: 576px) {
    .messages-container {
        left: 20px;
        right: 20px;
        max-width: none;
    }
}
</style>

<script>
// Auto-dismiss messages after 5 seconds
setTimeout(function() {
    const alerts = document.querySelectorAll('.messages-container .alert');
    alerts.forEach(function(alert) {
        const bsAlert = new bootstrap.Alert(alert);
        bsAlert.close();
    });
}, 5000);
</script>
{% endif %}
